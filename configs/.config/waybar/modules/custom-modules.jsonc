// custom-modules.jsonc
{
"custom/pacman": {
    "format": "{}  ï†‡",
    "interval": 3600,                     // every hour
    "exec": "checkupdates | wc -l",       // # of updates
    "exec-if": "checkupdates 2>/dev/null | grep -q .",
    "on-click": "termite -e 'sudo pacman -Syu'; pkill -SIGRTMIN+8 waybar", // update system
    "signal": 8
},

"custom/weather": {
    "exec": "${HOME}/.config/waybar/scripts/get_weather.sh Copenhagen+Denmark",
    "return-type": "json",
    "format": "{}",
    "tooltip": true,
    "interval": 3600
},

"custom/spotify": {
    "format": "{icon} {}",
    "escape": true,
    "return-type": "json",
    "max-length": 40,
    "interval": 30, // Remove this if your script is endless and write in loop
    "on-click": "playerctl -p spotify play-pause",
    "on-click-right": "killall spotify",
    "smooth-scrolling-threshold": 10, // This value was tested using a trackpad, it should be lowered if using a mouse.
    "on-scroll-up" : "playerctl -p spotify next",
    "on-scroll-down" : "playerctl -p spotify previous",
    "exec": "/usr/bin/python3 $HOME/.config/waybar/scripts/mediaplayer.py 2> /dev/null", // Script in resources/custom_modules folder
    "exec-if": "pgrep spotify"
},

"custom/power": {
    "format": "â» ",          // Power symbol (you can change to e.g. "â»" or "ï€‘ " with Nerd Font)
    "tooltip": false,         // No tooltip needed for a simple button
    "on-click": "wlogout",    // Launches wlogout on left-click
},

    "custom/notification": {
        "tooltip": false,
        "format": "{icon}",
        "format-icons": {
            "notification": "ï‚¢<span foreground='red'><sup>ï‘„</sup></span>",
            "none": "ï‚¢",
            "dnd-notification": "ï‡·<span foreground='red'><sup>ï‘„</sup></span>",
            "dnd-none": "ï‡·",
            "inhibited-notification": "ï‚¢<span foreground='red'><sup>ï‘„</sup></span>",
            "inhibited-none": "ï‚¢",
            "dnd-inhibited-notification": "ï‡·<span foreground='red'><sup>ï‘„</sup></span>",
            "dnd-inhibited-none": "ï‡·",
        },
        "return-type": "json",
        "exec-if": "which swaync-client",
        "exec": "swaync-client -swb",
        "on-click": "swaync-client -t -sw",
        "on-click-right": "swaync-client -d -sw",
        "escape": true,
    },

"custom/vpn": {
    "format": "{} ğŸ”’ ğŸ”“",                     // uses the 'text' from JSON, but we override with icons below
    "return-type": "json",
    // "exec": "~/.config/waybar/scripts/vpn.sh",  // your detection script
    "interval": 10,
    "format-icons": {
        "connected": "ğŸ”’",              // closed lock = protected
        "disconnected": "ğŸ”“"            // open lock = vulnerable/no VPN
        // or make disconnected empty: "disconnected": " "
    },
    "tooltip-format": "{icon} VPN {alt}",   // optional: shows "ğŸ”’ VPN connected" etc.
    "on-click": "your-connect-command",     // toggle if you want
    "on-click-right": "your-disconnect-command"
},

    "group/tray-expander": {
    "orientation": "inherit",
    "drawer": {
      "transition-duration": 600,
      "children-class": "tray-group-item"
    },
    "modules": ["custom/expand-icon", "tray"]
  },
  "custom/expand-icon": {
    "format": "ï”",
    "tooltip": false
  }

}